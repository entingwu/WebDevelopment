<html lang="en" ng-app="MusicPlayerApp">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Enting Wu">
    <title>MusicMood</title>

    <!-- jQuery Libraries -->
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
    <!-- Bootstrap Libraries -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:300,700" rel="stylesheet" type="text/css">
    <link href="views/css/style.css" rel="stylesheet">
    <!-- AngularJs Libraries -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular-route.min.js"></script>
    <!-- controller -->
    <script src="app.js"></script>
    <script src="config.js"></script>
    <script src="views/album/album.controller.js"></script>
    <script src="views/artist/artist.controller.js"></script>
    <script src="views/browse/browse.controller.js"></script>
    <script src="views/browsecategory/browsecategory.controller.js"></script>
    <script src="views/home/home.controller.js"></script>
    <script src="views/login/login.controller.js"></script>
    <script src="views/playlist/playlist.controller.js"></script>
    <script src="views/playqueue/playqueue.controller.js"></script>
    <script src="views/player/player.controller.js"></script>
    <script src="views/searchresults/searchresults.controller.js"></script>
    <script src="views/user/user.controller.js"></script>
    <script src="views/usertracks/usertracks.controller.js"></script>
    <!-- services -->
    <script src="services/search.service.client.js"></script>
    <script src="services/user.service.client.js"></script>
</head>

<body ng-controller="AppController">
<div class="fullview playerview" ng-show="showplayer">
    <div ng-controller="PlayerController">

        <div class="topgroup">
            <div class="searchbox">
                <input type="text" ng-model="query" ng-change="loadsearch()" ng-keyup="loadsearch()" placeholder="Search..." />
            </div>
            <div class="titlebox">
                <a href="#/home">MUSIC MOOD APPLICATION</a>
            </div>
            <div class="userbox">
                Signed in as <b><a href="#/users/{{profileUsername}}">{{profileUsername}}</a></b>
                <a ng-click="logout()">Log out</a>
            </div>
        </div>

        <div class="midgroup">
            <div class="menuview">
                <div class="list scrollable">
                    <b><a href="#/">MAIN</a></b>
                    <ul class="menuitems">
                        <li><a href="#/" ng-class="getClass('/')">Browse</a></li>
                    </ul>
                    <b><a href="#/me">YOUR MUSIC</a></b>
                    <ul class="menuitems">
                        <li><a href="#/users/{{username}}/tracks" ng-class="getClass('/users/{{username}}/tracks')">Songs</a></li>
                    </ul>
                    <b><a href="#/me">PLAYLISTS</a></b>
                    <ul class="menuitems">
                        <li ng-repeat="pl in playlists track by pl.id" ng-context-menu="menuOptions(pl)" ng-class="getClass('/users/{{pl.username}}/playlists/{{pl.id}}')">
                            <a href="#/users/{{pl.username}}/playlists/{{pl.id}}" ng-if="!pl.editing">
                                {{pl.name}}
                            </a>
                            <input focus-me="focusInput" ng-blur="playlistNameBlur(pl)" ng-if="pl.editing" class="edit" type="text" value="{{pl.name}}" name="title" ng-keyup="playlistNameKeyUp($event, pl)">
                        </li>
                    </ul>
                </div>
                <div class="preview">
                    <a href="#/albums/{{trackdata.album.id}}">
                        <responsive-cover ng-model="trackdata.album.images"></responsive-cover>
                    </a>
                    <p>
                        <b>{{trackdata.name}}</b>
                        <a href="#/artists/{{trackdata.artists[0].id}}">
                            {{trackdata.artists[0].name}}
                        </a>
                    </p>
                </div>
            </div>
            <div class="mainview">
                <div ng-view></div>
            </div>
        </div>

        <div class="bottomgroup">
            <div class="leftcontrols">
                <div class="prevbutton">
                    <a ng-click="prev()"><img src="./views/images/btn-prev.png" /></a>
                </div>

                <div class="playbutton">
                    <a ng-click="resume()" ng-hide="playing"><img src="./views/images/btn-play.png" /></a>
                    <a ng-click="pause()" ng-show="playing"><img src="./views/images/btn-pause.png" /></a>
                </div>

                <div class="nextbutton">
                    <a ng-click="next()"><img src="./views/images/btn-next.png" /></a>
                </div>

                <div class="volume">
                    <input type="range" ng-change="changevolume()" min="0" max="100" ng-model="volume" />
                </div>
            </div>
            <div class="seekcontrols">
                <div class="progress">{{ progress | displaytime }}</div>
                <div class="duration">{{ duration | displaytime }}</div>
                <div class="slider">
                    <input type="range" ng-model="progress" ng-change="changeprogress()" min="0" max="{{duration}}" />
                </div>
            </div>
            <div class="rightcontrols">
            </div>
        </div>
    </div>
</div>

<div class="fullview loginview" ng-show="showlogin">
    <div ng-controller="LoginController">
        <div class="centered">
            <div class="inner">
                <h1>Thirtify</h1>
                <p>
                    Welcome to Music Mood Application. Please sign in with your spotify account.
                </p>
                <a ng-click="login()" class="button big green">login</a>
            </div>
        </div>
    </div>
</div>
</body>
</html>